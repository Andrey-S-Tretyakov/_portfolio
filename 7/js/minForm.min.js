/*!
 * MinForm v1.0.0
 * @author Tretyakov Andrey <andrey.tretyakov@instafxgroup.com>
*/
!function(a){a.fn.minForm=function(){function i(a,b){d.find(".count").html(a+" / "+b)}function j(a,b){var c=100*(a-1)/b;d.children(".progress-wrap").find(".progress").css("width",c+"%")}function k(a,b){var d;1==b&&a<=g&&(d=a-1,c.find("li:nth-child("+d+")").slideUp(300)),0==b&&(d=a,c.find("li:nth-child("+d+")").slideDown(300)),console.log("f = "+a+"; g = "+b+"; h = "+d+"; i = "+g)}var c=(a(this),a(this).find("ol")),d=a(this).children(".control"),e=a(this).children(".finish"),f=a(this).children(".send").find("input[type=submit]");e.hide(),f.prop("disabled",!0);var g=0,h=1;c.children("li").each(function(){g++,a(this).find("label").attr("for","i"+g),a(this).find("input").attr("id","i"+g)}),i(1,g),d.find(".progress").wrap('<div class="progress-wrap"></div>'),d.find(".previous").hide(),d.find(".next").on("click",function(){if(d.find(".previous").show(),h<=g&&h++,h>g){c.slideUp(300),d.slideUp(300);var b="";c.children("li").each(function(){b=b+"<p><b>"+a(this).children("label").html()+":</b> <span>"+a(this).children("input").val()+"</span></p>"}),e.html(b),e.slideDown(300),f.prop("disabled",!1)}i(h,g),j(h,g),k(h,!0),console.log("a = "+h)}),d.find(".previous").on("click",function(){d.find(".next").show().prop("disabled",!1),h>1&&h--,h<2&&a(this).hide(),i(h,g),j(h,g),k(h,!1),console.log("a = "+h)})}}(jQuery);